\documentclass{article}

% Pacchetti utili
\usepackage[utf8]{inputenc} % Per la codifica dei caratteri
\usepackage[T1]{fontenc} % Per i font
\usepackage{graphicx} % Per le immagini
\usepackage{amsmath, amssymb} % Per la matematica
\usepackage{hyperref} % Per i link
\usepackage{natbib} % Per le citazioni
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{array}


\begin{document}

\subsection*{Metriche per sistemi di raccomandazione con feedback esplicito}

\begin{itemize}
    \item Item rilevanti tra i top-K. Per ciascuno \textit{user} $u \in U$, siano:
    \begin{itemize}
        \item $I_u^{rel}$ l'insieme degli \textit{item} rilevanti per $u$, ovvero quelli per cui $r_{ui}$ è maggiore o uguale a una certa soglia di rilevanza (es. 4 su una scala 1--5);
        \item $\hat{I}_u^K$ l'insieme dei \textit{top-K item} raccomandati allo \textit{user} $u$, ottenuti ordinando gli \textit{item} in $I \setminus I_u$ secondo lo score $\hat{r}_{ui}$;
        \item allora l'insieme degli item rilevanti tra i top-K per $u$ è dato da:
        \[
        I_u^{rel@K} = \hat{I}_u^K \cap I_u^{rel}
        \]
    \end{itemize}
    
    \item Root Mean Squared Error (RMSE).
    \[
    \text{RMSE} = \sqrt{ \frac{1}{|\hat{R}|} \sum_{\hat{r}_{ui} \in \hat{R}} (\hat{r}_{ui} - r_{ui})^2 }
    \]
    
    \item Mean Absolute Error (MAE).
    \[
    \text{MAE} = \frac{1}{|\hat{R}|} \sum_{\hat{r}_{ui} \in \hat{R}} |\hat{r}_{ui} - r_{ui}|
    \]
    
    \item Precision@K.
    \[
    \text{Precision@K}(u) = \frac{|I_u^{rel@K}|}{K}
    \]
    
    \item Recall@K.
    \[
    \text{Recall@K}(u) = \frac{|I_u^{rel@K}|}{|I_u^{rel}|}
    \]
    
    \item F1@K.
    \[
    \text{F1@K}(u) = 2 \cdot \frac{\text{Precision@K}(u) \cdot \text{Recall@K}(u)}{\text{Precision@K}(u) + \text{Recall@K}(u)}
    \]
    
    \item Average Precision@K (AP@K).
    \[
    \text{AP@K}(u) = \frac{1}{\min(K, |I_u^{rel}|)} \sum_{k=1}^{K} \text{Precision@k}(u) \cdot \mathbb{1}\{i_k \in I_u^{rel}\}
    \]
    dove $i_k$ è l'\textit{item} alla posizione $k$ in $\hat{I}_u^K$.
    
    \item Normalized Discounted Cumulative Gain (NDCG@K).
    \[
    \text{DCG@K}(u) = \sum_{k=1}^{K} \frac{\mathbb{1}\{i_k \in I_u^{rel}\}}{\log_2(k + 1)}
    \]
    \[
    \text{IDCG@K}(u) = \sum_{k=1}^{\min(K, |I_u^{rel}|)} \frac{1}{\log_2(k + 1)}
    \]
    \[
    \text{NDCG@K}(u) = \frac{\text{DCG@K}(u)}{\text{IDCG@K}(u)}
    \]
\end{itemize}


\bibliographystyle{plain}
\bibliography{../bibliography}

\end{document}
